<div class="modal fade" id="editUserModal" tabindex="-1" role="dialog" aria-labelledby="scrollmodalLabel"
	aria-hidden="true">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="scrollmodalLabel">View User</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="login-form">
					<form action="/" method="post" enctype="multipart/form-data">
						<div class="form-group">
							<label>Name</label>
							<input class="au-input au-input--full" type="text" name="name" placeholder="Name" required>
						</div>
						<div class="form-group">
							<label>Email Address</label>
							<input class="au-input au-input--full" type="email" name="email" placeholder="Email" required>
						</div>
						<!-- <div class="form-group">
							<label>Password</label>
							<input class="au-input au-input--full" type="password" name="password" placeholder="Password" required>
						</div> -->
						<div class="form-group">
							<label>Role</label>
							<select name="role" class="form-control" required>
								<option value="admin">Admin</option>
								<option value="user">User</option>
								<option value="author">Author</option>
							</select>
						</div>
						<div class="form-group">
							<label>Status</label>
							<div class="form-check-inline form-check">
								<label for="inline-radio1" class="form-check-label ml-5">
									<input type="radio" name="status" value="inactive" class="form-check-input" required>In-Active
								</label>
								<label for="inline-radio2" class="form-check-label ml-5">
									<input type="radio" name="status" value="active" class="form-check-input" required>Active
								</label>
								<label for="inline-radio3" class="form-check-label ml-5">
									<input type="radio" name="status" value="block" class="form-check-input" required>Block
								</label>
							</div>
						</div>
						<div class="form-group">
							<label for="profile_image_edit">Profile Image</label>
							<img class="profile_image_preview" src="" alt="Profile Image Preview" width="200px">
							<input class="" type="file" name="profile_image" id="profile_image_edit">
						</div>
						<!-- Display the preview image -->
						<img id="preview-image-edit" alt="Profile Image Preview">
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
				<button type="submit" class="btn btn-primary">Update</button>
			</div>
			</form>
		</div>
	</div>
</div>

<script>
	function openEditModal(itemJson) {
		console.log("Hello ...");
		var item = JSON.parse(itemJson);
		console.log(item);

		$("#editUserModal .profile_image_preview").show();
		$("#profile_image_edit").val('');
		$("#preview-image-edit").hide();

		if (item._id) {
			$("#editUserModal form").attr("action", `/admin/user/${item._id}/update`);
		} else {
			$("#editUserModal form").attr("action", "#");
		}
		$("#editUserModal input[name='name']").val(item.name);
		$("#editUserModal input[name='email']").val(item.email);
		$("#editUserModal select[name='role']").val((item.role).toLowerCase());
		$("#editUserModal .form-check-input").filter('[value="' + (item.status).toLowerCase() + '"]').prop('checked', true);
		$("#editUserModal select[name='theme']").val(item.theme);
		if (item.profile_image && item.profile_image.url) {
			$("#editUserModal .profile_image_preview").attr("src", item.profile_image.url);
		} else {
			$("#editUserModal .profile_image_preview").attr("src", "/cool_admin/images/dummy_profile_image.png");
		}
	}
</script>